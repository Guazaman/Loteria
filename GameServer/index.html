<!DOCTYPE html>
<html>
<head>
	<title>Prueba</title>
</head>

<h3>Numero de participantes <span id="people"></span></h3>
<body>

<input type="text" id="roomId" ><br>
<input id="enter" type="submit" value="Join">


<input id="request" type="submit" value="GET REQ">

PRUEBA
<script src="/socket.io/socket.io.js"></script>
<script>
  var socket = io.connect('http://localhost:8000');

  document.getElementById("enter").onclick = function(){
  	let roomID = document.getElementById("roomId").value;
  	console.log("your room id", roomID);
  	socket.emit('joinRoom', roomID);
  }

  socket.on('connected', function(num){
  	console.log("llego num", num);
  	document.getElementById("people").innerHTML = num;
  });

  socket.on('disconnection', function(num){
  	console.log("NEW EVENT");
  	document.getElementById("people").innerHTML = num;
  });



   document.getElementById("request").onclick = function(){
   		var xhttp = new XMLHttpRequest();
		  xhttp.onreadystatechange = function() {
		    if (this.readyState == 4 && this.status == 200) {
		    	document.write( this.responseText);
		    }
		  };
		 xhttp.open("GET", "http://1933a6a4.ngrok.io/Users", true);
		 xhttp.send();
   }
</script>
</body>
</html>